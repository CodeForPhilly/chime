
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Application Development Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="data-analysis.html" />
    
    
    <link rel="prev" href="../CONTRIBUTING.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Getting Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/try-online.html">
            
                <a href="../getting-started/try-online.html">
            
                    
                    Try Online
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/run-locally.html">
            
                <a href="../getting-started/run-locally.html">
            
                    
                    Run Locally
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../CONTRIBUTING.html">
            
                <a href="../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="app-dev.html">
            
                <a href="app-dev.html">
            
                    
                    Application Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="data-analysis.html">
            
                <a href="data-analysis.html">
            
                    
                    Data Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="operations-support.html">
            
                <a href="operations-support.html">
            
                    
                    Operations Support
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Operations
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../operations/release-process.html">
            
                <a href="../operations/release-process.html">
            
                    
                    Release Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../operations/release-automation.html">
            
                <a href="../operations/release-automation.html">
            
                    
                    Release Automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../operations/chime-live-cluster.html">
            
                <a href="../operations/chime-live-cluster.html">
            
                    
                    The chime-live Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../operations/heroku.html">
            
                <a href="../operations/heroku.html">
            
                    
                    Deploy to Heroku
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../operations/habitat.html">
            
                <a href="../operations/habitat.html">
            
                    
                    Deploy with Chef Habitat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../operations/byok8s.html">
            
                <a href="../operations/byok8s.html">
            
                    
                    Deploy to Your Own Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../operations/manual-validation.html">
            
                <a href="../operations/manual-validation.html">
            
                    
                    Manual Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../operations/limited-kubeconfigs/limited-kubeconfigs.html">
            
                <a href="../operations/limited-kubeconfigs/limited-kubeconfigs.html">
            
                    
                    Limited Cluster Access for Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../CODE_OF_CONDUCT.html">
            
                <a href="../CODE_OF_CONDUCT.html">
            
                    
                    Code of Conduct
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../MAINTAINERS.html">
            
                <a href="../MAINTAINERS.html">
            
                    
                    Maintainers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../GLOSSARY.html">
            
                <a href="../GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Application Development</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="contributing-application-development">Contributing: Application Development</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#developer-requirements">Developer Requirements</a></li>
<li><a href="#running-chime-locally">Running CHIME Locally</a></li>
<li><a href="#project-layout">Project Layout</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#validating-chime">Validating CHIME</a></li>
</ul>
<h2 id="developer-requirements">Developer Requirements</h2>
<p>The application is built with <a href="https://www.streamlit.io/" target="_blank">Streamlit</a>, Streamlit requires:</p>
<ul>
<li>Python 3.6.x or later</li>
<li>PIP</li>
</ul>
<p>See <a href="https://docs.streamlit.io/getting_started.html" target="_blank">Streamlit&apos;s Getting Started guide</a> for detailed information on prerequisites and setup</p>
<h2 id="running-chime-locally">Running CHIME Locally</h2>
<h3 id="with-venv">With <code>venv</code></h3>
<pre><code class="lang-bash">python3 -m venv ~.venv
. ~.venv/bin/activate
pip install <span class="hljs-_">-e</span> .
</code></pre>
<h3 id="with-pipenv">With <code>pipenv</code></h3>
<pre><code class="lang-bash">pipenv shell
pipenv sync --dev
</code></pre>
<h3 id="with-conda">With <code>conda</code></h3>
<pre><code class="lang-bash">conda env create <span class="hljs-_">-f</span> environment.yml
<span class="hljs-built_in">source</span> activate chime
pip install streamlit
</code></pre>
<h2 id="run-the-streamlit-web-app">Run the Streamlit Web App</h2>
<pre><code class="lang-bash">ASSETS=./defaults/assets \
PARAMETERS=-./defaults/webapp.cfg streamlit run st_app.py
</code></pre>
<h2 id="run-the-command-line-interface">Run the Command Line Interface</h2>
<pre><code class="lang-bash">ASSETS=./defaults/assets \
PARAMETERS=./defaults/cli.cfg penn_chime
</code></pre>
<h2 id="help-with-the-command-line-interface">Help with the Command Line Interface</h2>
<pre><code class="lang-bash">penn_chime --help
</code></pre>
<h3 id="choosing-a-different-set-of-parameters">Choosing a Different Set of Parameters</h3>
<p>If you want a different set of default parameters, you may use your own configuration file.</p>
<pre><code class="lang-bash">ASSETS=./defaults/assets \
PARAMETERS=./defaults/yours.cfg streamlit run st_app.py
</code></pre>
<p>Be sure to include <code>--current-date</code> in the file, if your <code>--current-hospitalized</code> is not today&apos;s value.
Be sure to include <code>--mitigation-date</code> in the file if social distancing was implemented before today.</p>
<h3 id="choosing-a-different-port">Choosing a Different Port</h3>
<p>If you need to run the application on a different port than the default (8000), you can set an environment variable.</p>
<pre><code class="lang-bash">ASSETS=./defaults/assets \
STREAMLIT_SERVER_PORT=1234 \
PARAMETERS=./defaults/webapp.cfg streamlit run st_app.py
</code></pre>
<h3 id="choosing-a-different-language">Choosing a Different Language</h3>
<p>If you want to run the application in another language, do the following. You can select Japanese as the language other than English.</p>
<pre><code class="lang-bash">ASSETS=./defaults/assets \
LANG=ja \
PARAMETERS=./defaults/webapp.cfg streamlit run st_app.py
</code></pre>
<h2 id="project-layout">Project Layout</h2>
<h3 id="application-files">Application files</h3>
<ul>
<li><code>st_app.py</code>: Startup script for the streamlit web application.</li>
<li><code>src</code>: Source code for the <code>penn_chime</code> module.</li>
<li><code>tests/</code>: <a href="https://docs.pytest.org/en/latest/" target="_blank">pytest</a> tests for the <code>penn_chime</code> module.</li>
<li><code>script/</code>: Developer workflow scripts following <a href="https://github.com/github/scripts-to-rule-them-all" target="_blank">GitHub&apos;s Scripts To Rule Them All</a> pattern.</li>
<li><code>.streamlit/</code>: <a href="https://docs.streamlit.io/cli.html" target="_blank">Streamlit config options</a></li>
<li><code>.env</code>: Local environment variables to use when running application, this file is copied from <code>.env.example</code> to start you out and then ignored by git</li>
<li><code>environment.yml</code></li>
<li><code>Pipfile</code></li>
<li><code>Pipfile.lock</code></li>
<li><code>setup.py</code></li>
<li><code>setup.cfg</code>: Configuration for flake8, mypy, <a href="https://docs.pytest.org/en/latest/" target="_blank">pytest</a></li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><code>docs/</code>: Markdown documentation in <a href="https://gitbookio.gitbooks.io/docs-toolchain/structure.html" target="_blank">GitBook format</a> used to generate <code>gh-pages</code> website at <a href="https://codeforphilly.github.io/chime" target="_blank">codeforphilly.github.io/chime</a></li>
</ul>
<h3 id="operations-support">Operations support</h3>
<ul>
<li><code>.github/workflows/</code>: <a href="https://github.com/features/actions" target="_blank">GitHub Actions</a> workflows implementing automations driven by GitHub events</li>
<li><code>.holo/</code>: <a href="https://github.com/JarvusInnovations/hologit" target="_blank">Hologit</a> projection configuration, used to generate <code>gh-pages</code> branch from content changes in <code>docs/</code> tree</li>
<li><code>k8s/</code>: Kubernetes manifests for <a href="https://codeforphilly.github.io/chime/operations/chime-live-cluster.html" target="_blank">the <code>chime-live</code> cluster</a></li>
<li><code>.env.example</code>: A starter <code>.env</code> file distributed with the project</li>
<li><code>docker-compose.yml</code>: Runtime container configuration for running the application locally via Docker</li>
<li><code>Dockerfile</code>: Recipe for building Docker container that runs the application</li>
<li><code>Procfile</code>: Supports running the application on Heroku</li>
</ul>
<h2 id="testing">Testing</h2>
<p>The project is set up for testing with <a href="https://docs.pytest.org/en/latest/" target="_blank">pytest</a>, and the GitHub repository is configured to execute <code>pytest</code> against all pull requests automatically.</p>
<p>To run tests locally, enter an environment first with <code>pipenv</code> or <code>conda</code> as indicated above in <a href="#running-chime-locally">Running CHIME Locally</a>, and then run:</p>
<pre><code class="lang-bash">pip install pytest
pytest
</code></pre>
<p>The test code runs from the local <code>tests</code> directory. Updating code in <code>tests</code> modifies the tests.
Use <code>pip install -e .</code> so that your local changes to <code>src</code> are also the module under test.
For CI, use <code>pip install .</code> to test the module installed in site-packages to ensure that the installed module is packaged correctly with all of its dependencies.
Do not import from src in your tests or your python code as this will appear to work locally, but break the python module.</p>
<h2 id="validating-chime">Validating CHIME</h2>
<p><em>No validation routine is available yet. If you have thoughts on how to add one, please contribute!</em></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../CONTRIBUTING.html" class="navigation navigation-prev " aria-label="Previous page: Contributing">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="data-analysis.html" class="navigation navigation-next " aria-label="Next page: Data Analysis">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Application Development","level":"1.3.1","depth":2,"next":{"title":"Data Analysis","level":"1.3.2","depth":2,"path":"contributing/data-analysis.md","ref":"contributing/data-analysis.md","articles":[]},"previous":{"title":"Contributing","level":"1.3","depth":1,"path":"CONTRIBUTING.md","ref":"CONTRIBUTING.md","articles":[{"title":"Application Development","level":"1.3.1","depth":2,"path":"contributing/app-dev.md","ref":"contributing/app-dev.md","articles":[]},{"title":"Data Analysis","level":"1.3.2","depth":2,"path":"contributing/data-analysis.md","ref":"contributing/data-analysis.md","articles":[]},{"title":"Operations Support","level":"1.3.3","depth":2,"path":"contributing/operations-support.md","ref":"contributing/operations-support.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["mermaid@git+https://github.com/JarvusInnovations/gitbook-plugin-mermaid.git"],"pluginsConfig":{"mermaid":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"contributing/app-dev.md","mtime":"2020-05-05T10:04:05.380Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-05T10:04:14.844Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-mermaid/mermaid/mermaid.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mermaid/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

